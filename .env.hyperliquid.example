# Hyperliquid Liquidation Monitoring Configuration
# Copy this file to .env and fill in your values

# ====================================
# HYPERLIQUID LIQUIDATION MONITORING
# ====================================

# Enable Hyperliquid liquidation alerts (true/false)
ENABLE_HYPERLIQUID_LIQUIDATION_ALERTS=true

# Exchanges to monitor (comma-separated: binance, hyperliquid, etc.)
LIQUIDATION_EXCHANGES=binance,hyperliquid

# Symbols to monitor on Hyperliquid (comma-separated, leave empty for all)
# Examples: BTC,ETH,SOL or leave empty to monitor all available perpetuals
HYPERLIQUID_SYMBOLS=BTC,ETH,SOL

# ====================================
# HYPERLIQUID ALERT THRESHOLDS (USD)
# ====================================

# BTC liquidation threshold - alerts sent for liquidations >= this value
# Default: $100,000 (institutional level)
HYPERLIQUID_THRESHOLD_BTC=100000

# ETH liquidation threshold
# Default: $50,000 (institutional level)
HYPERLIQUID_THRESHOLD_ETH=50000

# SOL liquidation threshold
# Default: $25,000 (institutional level)
HYPERLIQUID_THRESHOLD_SOL=25000

# ====================================
# TELEGRAM CONFIGURATION
# ====================================

# Your Telegram Bot Token (get from @BotFather)
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Your Telegram Chat ID (where alerts will be sent)
TELEGRAM_CHAT_ID=your_chat_id_here

# Enable general liquidation alerts (true/false)
ENABLE_LIQUIDATION_ALERTS=true

# Alert rate limit in seconds (minimum time between alerts)
ALERT_RATE_LIMIT_SECONDS=120

# ====================================
# BINANCE CONFIGURATION (Optional)
# ====================================

# Binance liquidation threshold for BTC
LIQUIDATION_THRESHOLD_BTC=100000

# Binance liquidation threshold for ETH
LIQUIDATION_THRESHOLD_ETH=50000

# Binance liquidation threshold for SOL
LIQUIDATION_THRESHOLD_SOL=25000

# ====================================
# OPEN INTEREST ALERTS (Optional)
# ====================================

# Enable OI explosion alerts
ENABLE_OI_ALERTS=true

# OI change threshold for BTC (%)
OI_THRESHOLD_BTC=15.0

# OI change threshold for ETH (%)
OI_THRESHOLD_ETH=18.0

# OI change threshold for SOL (%)
OI_THRESHOLD_SOL=25.0

# ====================================
# MARKET DATA SERVICE
# ====================================

# Market data service URL (for technical indicators, OI data, etc.)
# Default: http://market-data:8001 (Docker)
# Local dev: http://localhost:8001
MARKET_DATA_URL=http://market-data:8001

# ====================================
# LOGGING & MONITORING
# ====================================

# Log level: DEBUG, INFO, WARNING, ERROR
MONITORING_LOG_LEVEL=INFO

# ====================================
# ADVANCED SETTINGS
# ====================================

# Maximum alerts per hour (spam protection)
MAX_ALERTS_PER_HOUR=10

# Alert deduplication window in minutes
DEDUPLICATION_WINDOW_MINUTES=5

# Health check interval in seconds
HEALTH_CHECK_INTERVAL=30

# Maximum failure count before service restart
MAX_FAILURE_COUNT=3

# ====================================
# NOTES
# ====================================

# Institutional Thresholds:
# - BTC: $100K+ recommended (0.05% of typical $10B+ OI)
# - ETH: $50K+ recommended (0.05% of typical $11B+ OI)
# - SOL: $25K+ recommended (0.05% of typical $2.5B+ OI)
#
# Lower thresholds will generate more alerts but may include
# retail noise. Higher thresholds focus on institutional-only events.
#
# Cascade Detection:
# - System automatically detects liquidation cascades
# - Minimum 3-5 liquidations within 60 seconds
# - Minimum $500K total value for cascade alerts
#
# Exchange Coverage:
# - Binance: WebSocket real-time liquidation stream
# - Hyperliquid: On-chain liquidation monitoring via DEX API
# - More exchanges coming soon
#
# Performance:
# - Memory per exchange: ~5-10 MB
# - Liquidation buffer: 1000 records = ~18 KB
# - WebSocket reconnect: Exponential backoff (1,2,4,8,16s)
